# Transaction

Transaction information.

Attribute           | Type       | Editable | Description
----------------    | ---------  | -------- | --------------------------
`id`                | int        | no       | Unique ID. Auto generated by the server.
`order_uuid`        | string     | no       | Order UUID.
`order_date`        | string     | no       | Order date.
`order_status`      | string     | yes [1]  | Order status.
`total_amount`      | float      | no       | Total amount.
`payment_status`    | string     | no       | Payment status.
`payment_mode`      | string     | no       | Payment mode.
`payment_reference` | string     | no       | Payment reference.
`products`          | object [a] | no       | Ordered products.
`latitude`          | string     | no       | Latitude.
`longitude`         | string     | no       | Longitude.
`localtime`         | string     | no       | Local time.
`mobile_number`     | string     | no       | Mobile number.
`address`           | string     | no       | Address.
`created_on`        | string     | no       | Date in which transaction occurred.
`updated_on`        | string     | no       | Date in which entity gets updated.

a. Ordered product information.

Attribute       | Type   | Editable | Description
--------------- | ------ | -------- | --------------------------
`product_id`    | int    | no       | Product ID.
`name`          | string | no       | Product name.
`quantity`      | int    | no       | Quantity.
`selling_price` | float  | no       | Selling price.
`tax`           | float  | no       | Tax.
`special_value` | float  | no       | Special value.

1. A seperate endpoint `/api/v3/order/{order_id}/status/update` is used to change order status.

---

## *Create orders*

### **POST** `/api/v3/orders/create`

Create orders. Takes multiple orders as input.

#### Request

    [
        {
            "order_uuid":"45b9191b-d170-40d9-8d4f-556e01e014eb",
            "total_amount":21.53,
            "payment_mode":"cash",
            "latitude":"37.397672",
            "longitude":"-121.9953998",
            "localtime":"10:47:14 AM",
            "products":[
                {
                    "product_id":1000370007,
                    "name": "P1",
                    "quantity":1,
                    "selling_price":6.99,
                    "tax":0.09,
                    "special_value":0.0
                },
                {
                    "product_id":1000370004,
                    "name": "P2",
                    "quantity":2,
                    "selling_price":9.0,
                    "tax":0.09,
                    "special_value":0.0
                }
            ]
        }
    ]

#### Response

    {
        "order_ids": [
            53379
        ]
    }

---

## *Get order*

### **GET** `/api/v3/order/{order_id}`

Get order information.

#### Request

    Not required.

#### Response

    {
        "id": 53378,
        "order_uuid": "45b9191b-d170-40d9-8d4f-556e01e014eb",
        "order_date": "2021-11-21 15:32:20",
        "order_status": "Complete",
        "payment_status": "Completed",
        "payment_mode": "cash",
        "payment_reference": "",
        "total_amount": "21.53",
        "mobile_number": "",
        "address": "",
        "admin_id": 33,
        "cashier_id": null,
        "created_on": "2021-11-21 15:32:20",
        "updated_on": "2021-11-21 15:32:20",
        "products": [
            {
                "id": 98655,
                "order_id": 53378,
                "product_id": 1000370007,
                "name": "P1",
                "image_url": "",
                "quantity": 1,
                "selling_price": 6.99,
                "size": "",
                "special_value": 0,
                "status": "",
                "tax": 0.09,
                "color": ""
            },
            {
                "id": 98656,
                "order_id": 53378,
                "product_id": 1000370004,
                "name": "P2",
                "image_url": "",
                "quantity": 1,
                "selling_price": 9,
                "size": "",
                "special_value": 0,
                "status": "",
                "tax": 0.09,
                "color": ""
            }
        ]
    }

---

## *Update order status*

### **POST** `/api/v3/order/{order_id}/status/update`

Update order status.

#### Request

    {
        "status": "Cancel"
    }

#### Response

    {
        "id": 53378,
        "order_uuid": "3247100707210033",
        "order_date": "2021-11-21 15:32:20",
        "order_status": "Cancel",
        "payment_status": "Completed",
        "payment_mode": "cash",
        "payment_ref": "",
        "total": "21.53",
        "phone": "",
        "address": "",
        "uid": "33",
        "products": [
            {
                "id": 98655,
                "order_id": 53378,
                "product_id": 1000370007,
                "name": "P1",
                "image_url": "",
                "quantity": 1,
                "selling_price": 6.99,
                "size": "",
                "special_value": 0,
                "status": "",
                "tax": 0.09,
                "color": ""
            },
            {
                "id": 98656,
                "order_id": 53378,
                "product_id": 1000370004,
                "name": "P2",
                "image_url": "",
                "quantity": 1,
                "selling_price": 9,
                "size": "",
                "special_value": 0,
                "status": "",
                "tax": 0.09,
                "color": ""
            }
        ]
    }
